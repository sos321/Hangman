"use strict";const words=["mine","raw","stumble","railroad","dealer","space","magnetic","fluctuation","arrest","behavior","funeral","tape","dry","invasion","landscape","seller","bride","common","iron","end","community","depression","gregarious","composer","quit","environmental","chalk","responsible","family","craft","hilarious","motif","fisherman","hurl","commitment","continental","presidency","object","ask","mourning","fear","brand","displace","revolutionary","appoint","blame","representative","directory","nonremittal","self"],colors=new Map,lettersEl=(colors.set("win","#B5CCA7").set("lose","#EDA8A5").set("correct","#405C2F").set("incorrect","#83302C"),document.querySelectorAll(".guess-letters span")),endingEL=document.querySelector(".ending-bg");let secretWord="",state=0,correctGuesses=0,gameEnded=!1;const tries=11,roundedText=new CircleType(document.querySelector(".ending-bg-text"));function resizeBG(){endingEL.style.height=document.documentElement.scrollHeight+"px"}function startLetters(){lettersEl.forEach(function(letter){letter.addEventListener("click",createClickEvent,{once:!0})})}function createClickEvent(){evalGuess(this.textContent.toLowerCase()),this.classList.add("used")}function restart(){state=0,correctGuesses=0,animateBackground(),document.querySelector(".restart-icon").style.color="#bababa",gameEnded=!1,startLetters(),printRandomWord(),lettersEl.forEach(letter=>{letter.style.color="black",letter.classList.remove("used")}),document.querySelectorAll(".stroke-edit").forEach(path=>{path.style.opacity="0",path.style.strokeDashOffset="300",path.style.animation="none"})}function printRandomWord(){for(var letter in secretWord=words[Math.trunc(Math.random()*words.length)],document.querySelector(".secret-word").innerHTML="",secretWord){const SpanEl=document.createElement("span");SpanEl.textContent="_",document.querySelector(".secret-word").appendChild(SpanEl)}}function evalGuess(guess){var letter,tempCorrectGuesss=correctGuesses;for(letter in secretWord)guess===secretWord[letter]&&(document.querySelectorAll(".secret-word span")[letter].textContent=guess.toUpperCase(),lettersEl[guess.charCodeAt(0)-97].style.color=colors.get("correct"),correctGuesses++);tempCorrectGuesss===correctGuesses&&(updateState(),lettersEl[guess.charCodeAt(0)-97].style.color=colors.get("incorrect"),document.querySelector(".secret-word").classList.add("animation-trigger"),setTimeout(()=>{document.querySelector(".secret-word").classList.remove("animation-trigger")},300)),evalGameState()}function evalGameState(){correctGuesses===secretWord.length&&endGame("win"),state===tries&&(endGame("lose"),printEntireWord())}function printEntireWord(){const secretWordEls=document.querySelectorAll(".secret-word span");for(var letter in secretWord)"_"===secretWordEls[letter].textContent&&(secretWordEls[letter].textContent=secretWord[letter],secretWordEls[letter].style.color=colors.get("correct"))}function updateState(){state++,document.querySelector(".stroke-"+state).style.opacity="100",document.querySelector(".stroke-"+state).style.animation="fill 600ms forwards"}function endGame(result){resizeBG(),gameEnded=!0,document.querySelector(".restart-icon").style.color="black",endingEL.style.backgroundColor=""+colors.get(result),animateBackground()}function animateBackground(){gameEnded&&(endingEL.classList.contains("animate-from")?(endingEL.classList.remove("animate-from"),endingEL.classList.add("animate-to")):endingEL.classList.contains("animate-to")?(endingEL.classList.remove("animate-to"),endingEL.classList.add("animate-from")):endingEL.classList.add("animate-to"))}roundedText.radius(150).dir(-1),startLetters(),printRandomWord(),document.querySelector(".restart-icon").addEventListener("click",restart);